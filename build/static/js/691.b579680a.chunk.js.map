{"version":3,"file":"static/js/691.b579680a.chunk.js","mappings":"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","sources":["webpack://react-kabzda-1/./src/components/users/users.module.css?bee1","webpack://react-kabzda-1/./src/components/common/paginator/paginator.module.css?6840","components/common/paginator/paginator.jsx","components/users/user.jsx","components/users/users.jsx","redux/users-selectors.js","components/users/users-container.jsx","hoc/with-auth-redirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"users\":\"users_users__okou0\",\"users__list\":\"users_users__list__OcEVU\",\"user\":\"users_user__Fi1pv\",\"user__img\":\"users_user__img__wG-cp\"};","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"paginator_pagination__MKgoS\",\"pagination__item\":\"paginator_pagination__item__X0Zq-\",\"current\":\"paginator_current__HjYBd\"};","import React, { useState } from \"react\";\nimport s from \"./paginator.module.css\";\nimport { PORTION_OF_PAGES } from \"../../../const\";\n\nlet pages = [];\n\nconst Paginator = ({currentPage, pageClickHandler, itemsCount, pageSize, portionSize = PORTION_OF_PAGES}) => {\n\n  const pagesCount = Math.ceil(itemsCount / pageSize);\n  const portionCount = Math.ceil(pagesCount / portionSize);\n\n  let [portionNumber, setPortionNumber] = useState(1);\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n  const rightPortionPageNumber = portionNumber * portionSize;\n  \n  React.useMemo(() => {\n    pages = [];\n    for (let i=1; i <=pagesCount; i++) {\n      pages.push({id: i, number: i});\n    }\n  }, [pagesCount]);\n  \n  \n\n  return(\n    <ul className={s.pagination}>\n        <button className=\"primary\" type=\"button\" onClick={() => {setPortionNumber(portionNumber - 1)}} disabled={!(portionNumber > 1)}>Prev</button>\n\n      {pages.filter(p => p.number >= leftPortionPageNumber && p.number <= rightPortionPageNumber).map(page =>\n        <li \n          key={page.id}\n          className={`${s.pagination__item} ${ page.number === currentPage ? s.current : \"\"}`}\n          onClick={() => pageClickHandler(page.number)}\n        >{page.number}</li>)}\n\n        <button className=\"primary\" type=\"button\" onClick={() => {setPortionNumber(portionNumber + 1)}} disabled={!(portionNumber < portionCount)}>Next</button>\n    </ul>\n  ) \n};\n\nexport default Paginator;","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport s from \"./users.module.css\";\nimport userImg from \"../../images/user.jpg\";\nimport { PathLinks } from \"../../const\";\n\nconst User = ({user, follow, unfollow, followingInProgress}) => {\n\n  const followClickHandler = (status, id) => {\n    if(status) {\n      unfollow(id);\n    } else {\n      follow(id);\n    }\n  }\n\n  return(\n    <li className={s.user}>\n      <div>\n        <NavLink to={PathLinks.PROFILE + \"/\" + user.id}>\n          <img\n            className={s.user__img}\n            src={user.photos.small != null ? user.photos.small : userImg}\n            alt=\"User\"\n            width=\"50\"\n            height=\"50\"\n          ></img>\n        </NavLink>\n        <button\n          className=\"secondary\"\n          onClick={() => followClickHandler(user.followed, user.id)}\n          disabled={followingInProgress.some(id => id === user.id)}\n        >{user.followed ? \"Followed\" : \"Unfollowed\"}</button>\n      </div>\n      <div>\n        <span>{user.name}</span>\n        <span>{user.status}</span>\n      </div>\n    </li>\n  ) \n};\n\nexport default User;","import React from \"react\";\nimport s from \"./users.module.css\";\nimport Paginator from \"../common/paginator/paginator\";\nimport User from \"./user\";\n\nconst Users = ({currentPage, pageClickHandler, usersCount, pageSize, follow, unfollow, users, followingInProgress}) => {\n  return(\n    <div className={s.users}>\n      <Paginator currentPage={currentPage} pageClickHandler={pageClickHandler} itemsCount={usersCount} pageSize={pageSize} />\n    \n      <ul className={s.users__list}>\n        {users.map(u => \n          <User key={u.id} user={u} follow={follow} unfollow={unfollow} followingInProgress={followingInProgress} />\n        )}\n      </ul>\n    </div>\n  ) \n};\n\nexport default Users;","export const getUsers = (state) => {\n  return state.usersPage.users;\n}\n\nexport const getPageSize = (state) => {\n  return state.usersPage.pageSize;\n};\n\nexport const getTotalUsersCount = (state) => {\n  return state.usersPage.totalUsersCount;\n};\n\nexport const getCurrentPage = (state) => {\n  return state.usersPage.currentPage;\n};\n\nexport const getIsFetching = (state) => {\n  return state.usersPage.isFetching;\n};\n\nexport const getFollowingInProgress = (state) => {\n  return state.usersPage.followingInProgress;\n};","import { connect } from \"react-redux\";\nimport React from \"react\";\nimport { compose } from \"redux\";\nimport { setCurrentPage, getUsersThunkCreator, followThunkCreator, unfollowThunkCreator } from \"../../redux/users-reducer\";\nimport Users from \"./users\";\nimport Loader from \"../loader/loader\";\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from \"../../redux/users-selectors\";\nimport { withAuthRedirect } from \"../../hoc/with-auth-redirect\";\n\nclass UsersAPI extends React.Component {\n  componentDidMount() { \n    const {currentPage, pageSize} = this.props;\n    this.props.getUsers(currentPage, pageSize);\n  }\n\n  pageClickHandler = (page) => {\n    this.props.setCurrentPage(page);\n    this.props.getUsers(page, this.props.pageSize);\n  }\n\n  render() {\n    return(\n      <>\n      { this.props.isFetching\n        ? <Loader /> : null }\n        <Users\n            usersCount={this.props.usersCount}\n            pageSize={this.props.pageSize}\n            currentPage={this.props.currentPage}\n            users={this.props.users}\n            pageClickHandler={this.pageClickHandler}\n            followingInProgress={this.props.followingInProgress}\n            follow={this.props.follow}\n            unfollow={this.props.unfollow}\n          />\n      </>)\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    users: getUsers(state),\n    pageSize: getPageSize(state),\n    usersCount: getTotalUsersCount(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    followingInProgress: getFollowingInProgress(state),\n  }\n};\n\nexport default compose(\n  withAuthRedirect,\n  connect(mapStateToProps, {\n    setCurrentPage,\n    getUsers: getUsersThunkCreator,\n    follow: followThunkCreator,\n    unfollow: unfollowThunkCreator}),\n)(UsersAPI);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\n\nconst mapStateToPropsForRedirect = (state) => ({\n  isAuth: state.auth.isAuth,\n});\n\nexport const withAuthRedirect = (Component) => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) return <Navigate to={\"/login\"} />;\n\n      return <Component {...this.props} />;\n    }\n  }\n\n  const ConnectAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\n\n  return ConnectAuthRedirectComponent;\n};\n"],"names":["pages","currentPage","pageClickHandler","itemsCount","pageSize","portionSize","PORTION_OF_PAGES","pagesCount","Math","ceil","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","React","i","push","id","number","className","s","type","onClick","disabled","filter","p","map","page","user","follow","unfollow","followingInProgress","to","PathLinks","src","photos","small","userImg","alt","width","height","status","followed","some","name","usersCount","users","u","getUsers","state","usersPage","getPageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersAPI","props","setCurrentPage","this","compose","withAuthRedirect","connect","getUsersThunkCreator","followThunkCreator","unfollowThunkCreator","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent"],"sourceRoot":""}