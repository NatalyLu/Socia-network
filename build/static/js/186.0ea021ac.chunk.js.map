{"version":3,"file":"static/js/186.0ea021ac.chunk.js","mappings":"uLACA,EAAuB,4B,SCoCvB,EAjCqB,SAAH,GAA2F,IAAtFA,EAAa,EAAbA,cAAeC,EAAS,EAATA,UAAWC,EAAW,EAAXA,YAAaC,EAAW,EAAXA,YAAaC,EAAS,EAATA,UAAWC,EAAU,EAAVA,WAAYC,EAAI,EAAJA,KAChG,GAKIC,EAAAA,EAAAA,IAAQ,CAACD,KAAMA,IAJjBE,EAAQ,EAARA,SACAC,EAAY,EAAZA,aAAa,EAAD,EACZC,UAAaC,EAAM,EAANA,OAAQC,EAAO,EAAPA,QAASC,EAAkB,EAAlBA,mBAC9BC,EAAK,EAALA,MAaF,OANAC,EAAAA,EAAAA,YAAU,WACJF,GACFC,GAEJ,GAAG,CAACD,EAAoBC,KAGtB,kBAAME,SAAUP,GAXQ,SAACQ,GACzBjB,EAAciB,EAChB,IASmDC,UAAWC,EAAO,WACjE,qCACED,UAAS,mBAAcP,EAAOV,IAAc,UACxCO,EAASP,GAAS,UAAOC,KAAa,IAC1CC,YAAaA,KAGdQ,EAAOV,KAAc,cAAGiB,UAAU,aAAY,SAAEd,KAEjD,mBAAQgB,KAAK,SAASF,UAAU,SAASG,UAAWT,EAAQ,SAAEP,MAGpE,C,4FClCA,EAA0B,yBAA1B,EAAoE,gCAApE,EAAwH,mCAAxH,EAAsK,0BAAtK,EAAiN,gCAAjN,EAAiQ,+BAAjQ,EAAyS,wB,6BCezS,EAZe,SAACiB,GACd,OACE,eAAIJ,UAAWC,EAAiB,SAC7BG,EAAMC,MAAMC,KAAI,SAACC,GAChB,IAAIC,EAAOC,EAAAA,GAAAA,QAAoB,IAAMF,EAAKG,GAE1C,OAAO,yBAAkB,SAAC,KAAO,CAACV,UADpB,SAAH,GAAa,SAARW,SAAuB,UAAMV,EAAQ,KAAO,IAAMA,CAAgB,EAC5BW,GAAIJ,EAAK,SAAED,EAAKM,QAAtDN,EAAKG,GACvB,KAGN,ECZMI,EAAmB,SAACV,GACxB,OAAO,wBAAKA,EAAMW,UACpB,EAYA,EAViB,SAACX,GACjB,IAAOY,EAAYZ,EAAZY,SAEN,OACE,eAAIhB,UAAWC,EAAiB,SAC7Be,EAASV,KAAI,SAACC,GAAI,OAAK,SAACO,EAAgB,UAAgBP,EAAKU,SAAfV,EAAKG,GAAqC,KAG/F,E,UCgBA,EAxBgB,SAACN,GACf,IAGMpB,EAAc,CAACkC,UAAU,EAAMC,UAAWC,EAAAA,GAAAA,IAAmBC,UAAUD,EAAAA,GAAAA,KAE7E,OACE,iBAAKpB,UAAWC,EAAU,WACxB,SAAC,EAAM,CAACI,MAAOD,EAAMkB,QAAQjB,SAC7B,iBAAKL,UAAS,UAAKC,EAAmB,YAAIA,GAAa,WACrD,SAAC,EAAQ,CAACe,SAAUZ,EAAMkB,QAAQN,YAClC,SAAC,IAAY,CACXlC,cAXgB,SAACiB,GACvBK,EAAMmB,YAAYxB,EAAKyB,WACzB,EAUQzC,UAAU,aACVC,YAAaA,EACbC,YAAY,qBACZC,UAAWuC,EAAAA,GAAAA,sBACXtC,WAAW,cAKrB,E,oBCRA,GAAeuC,EAAAA,EAAAA,KACbC,EAAAA,EAAAA,KAfoB,SAACC,GACrB,MAAO,CACLN,QAASM,EAAMN,QAEnB,IAEyB,SAACO,GACxB,MAAO,CACLN,YAAa,SAACN,GACZY,GAASC,EAAAA,EAAAA,GAAyBb,GACpC,EAEJ,IAIEc,EAAAA,EAFF,CAGEC,E,kJCnBIC,EAA6B,SAACL,GAAK,MAAM,CAC7CM,OAAQN,EAAMO,KAAKD,OACpB,EAEYH,EAAmB,SAACK,GAAe,IACxCC,EAAiB,qGAKpB,OALoB,8BACrB,WACE,OAAKC,KAAKlC,MAAM8B,QAET,SAACE,GAAS,UAAKE,KAAKlC,SAFI,SAAC,KAAQ,CAACQ,GAAI,UAG/C,KAAC,EALoB,CAAS2B,EAAAA,WAUhC,OAFqCZ,EAAAA,EAAAA,IAAQM,EAARN,CAAoCU,EAG3E,C","sources":["webpack://react-kabzda-1/./src/components/common/textarea-form/textarea-form.module.css?8398","components/common/textarea-form/textarea-form.jsx","webpack://react-kabzda-1/./src/components/dialogs/dialogs.module.css?c5d1","components/dialogs/dialog/dialog.jsx","components/dialogs/messages/messages.jsx","components/dialogs/dialogs.jsx","components/dialogs/dialogs-container.jsx","hoc/with-auth-redirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"textarea-form_form__dQ1FN\"};","import { useEffect } from \"react\";\nimport {useForm} from \"react-hook-form\";\nimport s from \"./textarea-form.module.css\";\n\nconst TextareaForm = ({submitHandler, fieldName, registerObj, placeholder, errorText, buttonText, mode}) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isValid, isSubmitSuccessful },\n    reset,\n  } = useForm({mode: mode});\n\n  const formSubmitHandler = (data) => {\n    submitHandler(data);\n  }\n\n  useEffect(() => {\n    if (isSubmitSuccessful) {\n      reset();\n    }\n  }, [isSubmitSuccessful, reset]);\n\n  return(\n    <form onSubmit={handleSubmit(formSubmitHandler)} className={s.form}>\n      <textarea\n        className={`textarea ${errors[fieldName] && \"error\"}`}\n        {...register(fieldName , {...registerObj})}\n        placeholder={placeholder}\n      ></textarea>\n      \n      {errors[fieldName] && <p className=\"text-error\">{errorText}</p>}\n      \n      <button type=\"submit\" className=\"submit\" disabled={!isValid}>{buttonText}</button>\n    </form>\n  )\n}\n\nexport default TextareaForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"dialogs_dialogs__Od7-m\",\"dialogs__users\":\"dialogs_dialogs__users__xf5bO\",\"dialogs__messages\":\"dialogs_dialogs__messages__2lkHt\",\"messages\":\"dialogs_messages__TjUtq\",\"messages__list\":\"dialogs_messages__list__HjNsg\",\"dialogs__name\":\"dialogs_dialogs__name__8l-PA\",\"active\":\"dialogs_active__fa8FP\"};","import { NavLink } from \"react-router-dom\";\nimport { PathLinks } from \"../../../const\";\nimport s from \"../dialogs.module.css\";\n\nconst Dialog = (props) => {\n  return (\n    <ul className={s.dialogs__users}>\n      {props.users.map((item) => {\n        let path = PathLinks.DIALOGS + \"/\" + item.id;\n        let classes = ({isActive}) => (isActive ? `${s.active } ` : \"\") + s.dialogs__name;\n        return <li key={item.id}><NavLink className={classes} to={path}>{item.name}</NavLink></li>;\n      })}\n    </ul>\n  );\n};\n\nexport default Dialog;","import s from \"../dialogs.module.css\";\n\nconst MessageComponent = (props) => {\n  return <li>{props.children}</li>;\n}\n\nconst Messages = (props) => {\n const {messages} = props;\n\n  return (\n    <ul className={s.messages__list}>\n      {messages.map((item) => <MessageComponent key={item.id}>{item.message}</MessageComponent> )}\n    </ul>\n  );\n};\n\nexport default Messages;","import s from \"./dialogs.module.css\";\nimport Dialog from \"./dialog/dialog\";\nimport Messages from \"./messages/messages\";\nimport { DialogSymbols, Errors } from \"../../const\";\nimport TextareaForm from \"../common/textarea-form/textarea-form\";\n\nconst Dialogs = (props) => {\n  let addMessageHandler = (data) => {\n    props.sendMessage(data.newMessage);\n  }\n  const registerObj = {required: true, minLength: DialogSymbols.MIN, maxLength:DialogSymbols.MAX };\n\n  return (\n    <div className={s.dialogs}>\n      <Dialog users={props.dialogs.users} />\n      <div className={`${s.dialogs__messages} ${s.messages}`}>\n        <Messages messages={props.dialogs.messages} />\n        <TextareaForm\n          submitHandler={addMessageHandler}\n          fieldName=\"newMessage\"\n          registerObj={registerObj}\n          placeholder=\"Enter your message\"\n          errorText={Errors.DIALOG_TEXTAREA_ERROR}\n          buttonText=\"Send\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Dialogs;","import { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport Dialogs from \"./dialogs\";\nimport { sendMessageActionCreator } from \"../../redux/dialogs-reducer\";\nimport { withAuthRedirect } from \"../../hoc/with-auth-redirect\";\n\nlet mapStateToProps = (state) => {\n  return {\n    dialogs: state.dialogs,\n  }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n  return {\n    sendMessage: (message) => {\n      dispatch(sendMessageActionCreator(message));\n    },\n  }\n}\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withAuthRedirect\n)(Dialogs);","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\n\nconst mapStateToPropsForRedirect = (state) => ({\n  isAuth: state.auth.isAuth,\n});\n\nexport const withAuthRedirect = (Component) => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) return <Navigate to={\"/login\"} />;\n\n      return <Component {...this.props} />;\n    }\n  }\n\n  const ConnectAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\n\n  return ConnectAuthRedirectComponent;\n};\n"],"names":["submitHandler","fieldName","registerObj","placeholder","errorText","buttonText","mode","useForm","register","handleSubmit","formState","errors","isValid","isSubmitSuccessful","reset","useEffect","onSubmit","data","className","s","type","disabled","props","users","map","item","path","PathLinks","id","isActive","to","name","MessageComponent","children","messages","message","required","minLength","DialogSymbols","maxLength","dialogs","sendMessage","newMessage","Errors","compose","connect","state","dispatch","sendMessageActionCreator","withAuthRedirect","Dialogs","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent","this","React"],"sourceRoot":""}